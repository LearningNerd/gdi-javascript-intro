<section>
	<h2>Manipulating HTML elements with JavaScript</h2>
</section>

<section>
	<h2 style="font-size:1.4em;">The Document Object Model (DOM)</h2>

	<img src="img/dom-tree.png" class="noborder"/>

</section>


<section>
	<h2 style="font-size:1.4em;">The Document Object Model (DOM)</h2>

	<p style="margin-bottom:40px;">The DOM organizes HTML pages as a <strong>hierarchy</strong> of elements, just like the file system on our computers.</p>

	<p>It's built into every web browser to let developers <br>(like us!) modify the contents of our web pages.</p>
</section>


<section>
	<h2 style="font-size:1.4em;">Document: Root of the tree</h2>

	<p>The <em>root</em> of the hierarchy/tree is the <code>document</code> object, which contains all the other objects that<br> represent our HTML elements.</p>

<pre><code class="javascript" data-trim contenteditable="">
// Try opening your Mad Libs index.html in your browser,
// and run this in the console to see what's inside:
console.dir(document);
</code></pre>

	<p>Each of these objects contains <strong>properties</strong> like the text content of the HTML elements, their HTML attributes, and their CSS styles.</p>

</section>

<section>
	<p style="margin-bottom:40px;">OK, the Document Object Model sounds cool!</p>
	<h2 style="font-size:2.2em;">But what are objects?</h2>
</section>

<section>

		<p>So far we've worked with simple variables, but what if we have a whole bunch of them?</p>
<pre><code class="javascript" data-trim contenteditable="">
var myName = "Sally Awesomepants";
var myProfession = "full-stack JavaScript developer";
var myAge = 32;
var myFavColor = "purple";
var myFavFood = "pizza";
var myFavAnimal = "penguin";
var myFavNumber = 3;
</code></pre>

	<p>If you have to track this data for hundreds of people, how would you even remember the names of all these variables?! There must be a better way!</p>

</section>

<section>
	<h2 style="font-size:1.5em;margin-top:-40px;">Objects: bags of related variables</h2>

		<p>You can think of an object as a bag full of variables, just a convenient way to carry them all together:</p>

<!--
	VERBAL instructions:
	- point out this new notation, with colons and commas.
-->

<pre><code class="javascript" data-trim contenteditable="">
var me = {
	name: "Sally Awesomepants",
	profession: "full-stack JavaScript developer",
	age: 32,
	favColor: "purple",
	favFood: "pizza",
	favAnimal: "penguin",
	favNumber: 3
};
console.log("Hi, I'm " + me.name + ", a "
	+ me.age + "-year-old " + me.profession + "!");
</code></pre>

	<p>This is just <em>one</em> of the ways to create an object, called <strong>object literal notation</strong>. But more on that later.</p>
</section>

<section>
	<p>Not only can objects contain variables, but they can even contain their own functions!</p>

	<!--
		VERBAL instructions:
		- don't worry about this syntax yet! this is just a preview to introduce the general concept.
	-->

<pre><code class="javascript" data-trim contenteditable="">
var myObject = {
	myProperty: "Here is some data!",
	myMethod: function () {
		console.log('Function inside an object!');
	}
}

// Access a property of our object:
console.log(myObject.myProperty);

// Run a method of our object:
myObject.myMethod();
</code></pre>

<p><span class="bold">Tech jargon tip:</span><br> when inside an object, its <span class="green">variables</span> are called <em class="bold green">properties</em>, and its <span class="blue">functions</span> are called <em class="bold blue">methods</em>.</p>

</section>

<section>
	<h2>Let's "hack" Google!</h2>

		<p style="margin-bottom: 40px;">Go to <a href="https://www.google.com/" target="_blank">Google.com</a> and then open your browser console once you're on their homepage.</p>
		<p>Next, run this code in the console:</p>

<pre><code class="javascript" data-trim contenteditable="">
document.body.textContent = 'You got hacked!';
</code></pre>

	<p class="fragment" data-fragment-index="0"><em class="bold">OK, just kidding!</em></p>
	<p class="fragment" data-fragment-index="0">Thankfully, it's not that easy to hack a website. These changes are temporary, and they only appear on <em>your</em> computer; nobody else will see them.
</section>

<section>
	<h2>The textContent property</h2>

	<p>Every element in the DOM has a <code>textContent</code> property that contains the text inside the HTML element it represents. Let's try this out:</p>

<pre><code class="javascript" data-trim contenteditable="">
// Put this code in your madlibs.js file, then save it
// and open your index.html file in your web browser.
var bodyText = document.body.textContent;
console.log(bodyText);

// SHORTCUT: you could also combine those two lines of code,
// no variable needed:
// console.log( document.body.textContent );
</code></pre>

	<p>Interesting, right? That's all the text in your web page, without the HTML tags! This can be useful...</p>

</section>

<section>
	<h2 style="font-size:1.3em;line-height:1.2;">But what if we want the text of just<br> <em>one</em> element, not the whole body?</h2>

	<p style="margin-bottom: 40px;">First we need a way to identify it! One way is with <code class="bold green">document.getElementById()</code>, a built-in method of the <code>document</code> object for finding one particular element:</p>

<pre><code class="javascript" data-trim contenteditable="">
var myElement = document.getElementById('test');
</code></pre>

<p>It takes one <code>string</code> as an argument, which should match the ID of the HTML element you want to get.</p>

</section>

<section>
	<h2 style="font-size:1.3em;">Let's try <code>document.getElementById</code>!</h2>

	<p id="changebox" style="font-weight:bold;border:4px solid black;padding:20px; height:120px; width: 200px; margin:0 20px 40px 0;float:left;">Change me!</p>

	<div style="float:right">
		<p>The HTML for the box on this page is:
		<pre style="margin-top:20px;"><code class="html">&lt;p id=&quot;changebox&quot;&gt;Change me!&lt;/p&gt;</code></pre></p>
	</div>

	<p style="clear:both;">Let's change its text! Open your browser console while you're on this slide and try running this code:</p>

<pre style="margin-top:20px;"><code class="javascript" data-trim contenteditable="">
// Identify the box by its ID:
var box = document.getElementById('changebox');

// Display its current text content:
console.log(box.textContent);

// Change its text content:
box.textContent = 'Voila! JavaScript magic!';
</code></pre>

</section>

<section>
	<h2 style="font-size:1.3em;margin-top:-50px;">Now try it again, but with an input box!</h2>

	<input id="changeinput" value="Change me!" style="margin:30px;padding:10px;width:210px;font-size:1em;float:left;">

	<div style="float:right">
		<p>The HTML for this input box:
		<pre style="margin-top:20px;"><code class="html">&lt;input id=&quot;changeinput&quot; value=&quot;Change me!&quot;&gt;</code></pre></p>
	</div>

	<p style="clear:both;">Close and reopen your browser console, then try:</p>

<pre style="margin-top:20px;"><code class="javascript" data-trim contenteditable="">
// Identify the input box by its ID:
var input = document.getElementById('changeinput');

// Notice that its text content is empty!
console.log(input.textContent);

// We need to use the value property instead:
console.log(input.value);

// Change its value:
input.value = 'new value!';
</code></pre>

</section>

<section>
	<h2>textContent vs value</h2>

	<p style="margin-bottom:40px;">So just remember: you need to use the <code>value</code> property to get the text inside any form elements.</p>
	<p>For pretty much all other types of HTML elements, the <code>textContent</code> property will work fine.</p>
</section>

<section>
	<h2 style="font-size:1.4em;">Pair Programming Challenge:<br> Get the value of each Mad Lib input</h2>
	<p style="margin-bottom:40px;"><span class="bold">1)</span> Look inside your <code>index.html</code> file and find the IDs of each input box; you're gonna need them!</p>

	<p style="margin-bottom:40px;"><span class="bold">2)</span> Create a JavaScript variable containing the value of each input box in your <code>madlibs.js</code> file by using the <code>getElementById</code> method of the <code>document</code> object.</p>

	<p class="small">Be sure to look through the previous slides to review what we've learned so far. And don't be afraid to experiment and break stuff; that's the best way to learn!</p>

</section>

<section>
	<h2>Solution</h2>

<pre><code class="javascript" data-trim contenteditable="">
// Get the values of HTML input boxes
// with the IDs "noun", "verb", and "adjective"
var noun = document.getElementById('noun').value;
var verb = document.getElementById('verb').value;
var adjective = document.getElementById('adjective').value;

// For testing purposes, display the values in the console
console.log(noun, verb, adjective);
</code></pre>

	<p>Save your <code>madlibs.js</code> file, open <code>index.html</code> in the browser, write some text in the input boxes, and then open the console!</p>
</section>

<section>
	<h2>It didn't work! Why not?</h2>

	<p class="fragment" style="margin-bottom:40px;">Oh yeah, our code runs as soon as we go to our web page (<code>index.html</code>), before we can type anything into the input boxes! Order of events matters!</p>

	<h3 class="fragment" style="margin-bottom:40px;">When should our code run?</h3>

	<p class="fragment" style="">When the user clicks the button.<br> Let's make it happen!</p>
</section>
